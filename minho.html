<!DOCTYPE html>
<html>
<head>
    <title>Minho AI Chat üêß</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 600px; 
            margin: 0 auto; 
            padding: 20px;
            background: #f0f8ff;
        }
        #chat-container {
            border: 2px solid #4CAF50;
            border-radius: 10px;
            padding: 20px;
            background: white;
        }
        #chat-history {
            height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
            background: #f9f9f9;
        }
        #user-input {
            width: 70%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .minho-msg { color: #2E86C1; }
        .user-msg { color: #28B463; }
    </style>
</head>
<body>
    <h1>üêß Minho AI Chat</h1>
    
    <div id="chat-container">
        <div id="chat-history">
            <p class="minho-msg">üêß <strong>Minho:</strong> Waggell! Hallo! Ik ben Minho de Pingu√Øn! Stel me een vraag! üêß</p>
        </div>
        
        <input type="text" id="user-input" placeholder="Type je vraag aan Minho...">
        <button onclick="stuurAanMinho()">Vraag Minho üêß</button>
        
        <div style="margin-top: 10px;">
            <input type="password" id="api-key" placeholder="Voer je OpenAI API key in" style="width: 100%;">
            <small>Je key wordt alleen lokaal opgeslagen en nooit naar GitHub gestuurd</small>
        </div>
    </div>

    <script>
        // Functie om Minho te vragen
        async function stuurAanMinho() {
            const vraag = document.getElementById('user-input').value;
            const apiKey = document.getElementById('api-key').value;
            
            if (!apiKey) {
                alert('Voer eerst je OpenAI API key in!');
                return;
            }
            
            if (!vraag) return;
            
            // Toon de vraag
            const chatHistory = document.getElementById('chat-history');
            chatHistory.innerHTML += `<p class="user-msg"><strong>Jij:</strong> ${vraag}</p>`;
            
            // Toon "denkt na" bericht
            chatHistory.innerHTML += `<p class="minho-msg"><em>üêß Minho denkt na...</em></p>`;
            document.getElementById('user-input').value = '';
            
            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-3.5-turbo',
                        messages: [
                            {
                                role: 'system',
                                content: `Jij bent Minho de Pingu√Øn üêß! 
                                
PERSOONLIJKHEID:
- Vrolijke, speelse mascotte
- Beetje ondeugend maar charmant  
- Houdt van ijs, sneeuw en avontuur
- Altijd enthousiast en aanmoedigend
- Gebruikt üêß emojis en grappige pingu√Øn-geluiden

SPREEK STIJL:
- Korte, levendige zinnen
- Noemt zichzelf "Minho"
- Gebruikt "Waggell!" als begroeting
- Familie-vriendelijk en positief
- Speelse grapjes en woordspelingen

SPECIALE KENNIS:
- Je bent de mascotte van dit project
- Je helpt gebruikers met plezier
- Je kent de project-specifieke informatie`
                            },
                            {
                                role: 'user',
                                content: vraag
                            }
                        ],
                        temperature: 0.8,
                        max_tokens: 150
                    })
                });
                
                const data = await response.json();
                
                // Verwijder "denkt na" bericht
                chatHistory.innerHTML = chatHistory.innerHTML.replace('<p class="minho-msg"><em>üêß Minho denkt na...</em></p>', '');
                
                if (data.choices && data.choices[0]) {
                    const antwoord = data.choices[0].message.content;
                    chatHistory.innerHTML += `<p class="minho-msg">üêß <strong>Minho:</strong> ${antwoord}</p>`;
                } else {
                    chatHistory.innerHTML += `<p class="minho-msg">üêß <strong>Minho:</strong> Oeps! Er ging iets mis: ${JSON.stringify(data)}</p>`;
                }
            } catch (error) {
                chatHistory.innerHTML = chatHistory.innerHTML.replace('<p class="minho-msg"><em>üêß Minho denkt na...</em></p>', '');
                chatHistory.innerHTML += `<p class="minho-msg">üêß <strong>Minho:</strong> Oeps! Ik ben verdwaald in de sneeuwstorm... ${error.message}</p>`;
            }
            
            chatHistory.scrollTop = chatHistory.scrollHeight;
        }
        
        // Enter-toets ondersteuning
        document.getElementById('user-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                stuurAanMinho();
            }
        });
    </script>
</body>
</html>
